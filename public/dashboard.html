<html>
<head>
  <title>Calvic Dashboard</title>

  <script src="pages/navbar.js"></script>
  <script src="pages/sidebar.js"></script>

  <script src="pages/billing.js"></script>
  <script src="pages/borrowed.js"></script>
  <script src="pages/returned.js"></script>
  <script src="pages/videos.js"></script>
  <script src="/pages/registration.js"></script>


  <!-- CSS  -->
  <link href="./css/materialize.min.css" rel="stylesheet">
  <link href="./css/styles.css" rel="stylesheet">
  <style media="screen">
    header, main, footer {
      padding-left: 240px
    }
  </style>

  <!-- JS -->
  <script src="./js/jquery.min.js"></script>
  <script src="./js/materialize.min.js"></script>

  <!-- View Engine -->
  <script src="./js/mithril.min.js"></script>
</head>

<body>
  <script>

  var test  = {
    view:function(){
      return m("div",[
        m("div","this is a page"),
        m("a",{
          href:"/",
          config:m.route
        },"dashboard")
      ])
    }
  }

  var dashboard = {
    view:function(){
      return m(".app",[

        m("a",{
          href:"/test",
          config:m.route
        },"loading...")
      ])
    }
  }

  var layoutComponent = {
    view:function(ctrl, args){
      return m(".app",[
        m.component(navbar),
        m.component(sidebar),
        m("main",[
          m(args.body)
        ]),
      ])
    }
  }

    // m.mount(document.body, dashboard)

    //router
    m.route(document.body,"/", {
      "/":m(layoutComponent,{
        body:dashboard
      }),
      "/videos":m(layoutComponent,{
        body:videos
      }),
      "/borrowed":m(layoutComponent,{
        body:borrowed
      }),
      "/returned":m(layoutComponent,{
        body:returned
      }),
      "/billing":m(layoutComponent,{
        body:billing
      }),
      "/registration":m(layoutComponent,{
        body:registration
      }),
    })

</script>
</body>
</html>
